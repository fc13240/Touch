var internals={};exports.escapeJavaScript=function(r){if(!r)return"";for(var n="",e=0,t=r.length;t>e;++e){var a=r.charCodeAt(e);n+=internals.isSafe(a)?r[e]:internals.escapeJavaScriptChar(a)}return n},exports.escapeHtml=function(r){if(!r)return"";for(var n="",e=0,t=r.length;t>e;++e){var a=r.charCodeAt(e);n+=internals.isSafe(a)?r[e]:internals.escapeHtmlChar(a)}return n},internals.escapeJavaScriptChar=function(r){if(r>=256)return"\\u"+internals.padLeft(""+r,4);var n=new Buffer(String.fromCharCode(r),"ascii").toString("hex");return"\\x"+internals.padLeft(n,2)},internals.escapeHtmlChar=function(r){var n=internals.namedHtml[r];if("undefined"!=typeof n)return n;if(r>=256)return"&#"+r+";";var e=new Buffer(String.fromCharCode(r),"ascii").toString("hex");return"&#x"+internals.padLeft(e,2)+";"},internals.padLeft=function(r,n){for(;r.length<n;)r="0"+r;return r},internals.isSafe=function(r){return"undefined"!=typeof internals.safeCharCodes[r]},internals.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},internals.safeCharCodes=function(){for(var r={},n=32;123>n;++n)(n>=97||n>=65&&90>=n||n>=48&&57>=n||32===n||46===n||44===n||45===n||58===n||95===n)&&(r[n]=null);return r}();