var tape=require("tape"),genfun=require("./");tape("generate add function",function(n){var e=genfun()("function add(n) {")("return n + %d",42)("}");n.same(e.toString(),"function add(n) {\n  return n + 42\n}","code is indented"),n.same(e.toFunction()(10),52,"function works"),n.end()}),tape("generate function + closed variables",function(n){var e=genfun()("function add(n) {")("return n + %d + number",42)("}"),t=e.toFunction(),r=e.toFunction({number:10});try{t(10),n.ok(!1,"function should not work")}catch(o){n.same(o.message,"number is not defined","throws reference error")}n.same(r(11),63,"function with closed var works"),n.end()});