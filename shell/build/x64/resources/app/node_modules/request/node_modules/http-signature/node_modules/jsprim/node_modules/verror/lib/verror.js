function VError(r){var t,e,s,o;r instanceof Error||"object"==typeof r?t=Array.prototype.slice.call(arguments,1):(t=Array.prototype.slice.call(arguments,0),r=void 0),o=t.length>0?mod_extsprintf.sprintf.apply(null,t):"",this.jse_shortmsg=o,this.jse_summary=o,r&&(e=r.cause,e&&r.cause instanceof Error||(e=r),e&&e instanceof Error&&(this.jse_cause=e,this.jse_summary+=": "+e.message)),this.message=this.jse_summary,Error.call(this,this.jse_summary),Error.captureStackTrace&&(s=r?r.constructorOpt:void 0,s=s||arguments.callee,Error.captureStackTrace(this,s))}function MultiError(r){mod_assert.ok(r.length>0),this.ase_errors=r,VError.call(this,r[0],"first of %d error%s",r.length,1==r.length?"":"s")}function WError(r){Error.call(this);var t,e,s;"object"==typeof r?t=Array.prototype.slice.call(arguments,1):(t=Array.prototype.slice.call(arguments,0),r=void 0),this.message=t.length>0?mod_extsprintf.sprintf.apply(null,t):"",r&&(r instanceof Error?e=r:(e=r.cause,s=r.constructorOpt)),Error.captureStackTrace(this,s||this.constructor),e&&this.cause(e)}var mod_assert=require("assert"),mod_util=require("util"),mod_extsprintf=require("extsprintf");exports.VError=VError,exports.WError=WError,exports.MultiError=MultiError,mod_util.inherits(VError,Error),VError.prototype.name="VError",VError.prototype.toString=function(){var r=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=": "+this.message),r},VError.prototype.cause=function(){return this.jse_cause},mod_util.inherits(MultiError,VError),mod_util.inherits(WError,Error),WError.prototype.name="WError",WError.prototype.toString=function(){var r=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=": "+this.message),this.we_cause&&this.we_cause.message&&(r+="; caused by "+this.we_cause.toString()),r},WError.prototype.cause=function(r){return r instanceof Error&&(this.we_cause=r),this.we_cause};