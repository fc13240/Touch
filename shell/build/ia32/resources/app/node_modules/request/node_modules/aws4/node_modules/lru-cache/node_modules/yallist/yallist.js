function Yallist(t){var e=this;if(e instanceof Yallist||(e=new Yallist),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(arguments.length>0)for(var i=0,l=arguments.length;l>i;i++)e.push(arguments[i]);return e}function push(t,e){t.tail=new Node(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function unshift(t,e){t.head=new Node(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Node(t,e,i,l){return this instanceof Node?(this.list=l,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,void(i?(i.prev=this,this.next=i):this.next=null)):new Node(t,e,i,l)}module.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=i),t.list.length--,t.next=null,t.prev=null,t.list=null},Yallist.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},Yallist.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},Yallist.prototype.push=function(){for(var t=0,e=arguments.length;e>t;t++)push(this,arguments[t]);return this.length},Yallist.prototype.unshift=function(){for(var t=0,e=arguments.length;e>t;t++)unshift(this,arguments[t]);return this.length},Yallist.prototype.pop=function(){if(!this.tail)return void 0;var t=this.tail.value;return this.tail=this.tail.prev,this.tail.next=null,this.length--,t},Yallist.prototype.shift=function(){if(!this.head)return void 0;var t=this.head.value;return this.head=this.head.next,this.head.prev=null,this.length--,t},Yallist.prototype.forEach=function(t,e){e=e||this;for(var i=this.head,l=0;null!==i;l++)t.call(e,i.value,l,this),i=i.next},Yallist.prototype.forEachReverse=function(t,e){e=e||this;for(var i=this.tail,l=this.length-1;null!==i;l--)t.call(e,i.value,l,this),i=i.prev},Yallist.prototype.get=function(t){for(var e=0,i=this.head;null!==i&&t>e;e++)i=i.next;return e===t&&null!==i?i.value:void 0},Yallist.prototype.getReverse=function(t){for(var e=0,i=this.tail;null!==i&&t>e;e++)i=i.prev;return e===t&&null!==i?i.value:void 0},Yallist.prototype.map=function(t,e){e=e||this;for(var i=new Yallist,l=this.head;null!==l;)i.push(t.call(e,l.value,this)),l=l.next;return i},Yallist.prototype.mapReverse=function(t,e){e=e||this;for(var i=new Yallist,l=this.tail;null!==l;)i.push(t.call(e,l.value,this)),l=l.prev;return i},Yallist.prototype.reduce=function(t,e){var i,l=this.head;if(arguments.length>1)i=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");l=this.head.next,i=this.head.value}for(var n=0;null!==l;n++)i=t(i,l.value,n),l=l.next;return i},Yallist.prototype.reduceReverse=function(t,e){var i,l=this.tail;if(arguments.length>1)i=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");l=this.tail.prev,i=this.tail.value}for(var n=this.length-1;null!==l;n--)i=t(i,l.value,n),l=l.prev;return i},Yallist.prototype.toArray=function(){for(var t=new Array(this.length),e=0,i=this.head;null!==i;e++)t[e]=i.value,i=i.next;return t},Yallist.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,i=this.tail;null!==i;e++)t[e]=i.value,i=i.prev;return t},Yallist.prototype.slice=function(t,e){e=e||this.length,0>e&&(e+=this.length),t=t||0,0>t&&(t+=this.length);var i=new Yallist;if(t>e||0>e)return i;0>t&&(t=0),e>this.length&&(e=this.length);for(var l=0,n=this.head;null!==n&&t>l;l++)n=n.next;for(;null!==n&&e>l;l++,n=n.next)i.push(n.value);return i},Yallist.prototype.sliceReverse=function(t,e){e=e||this.length,0>e&&(e+=this.length),t=t||0,0>t&&(t+=this.length);var i=new Yallist;if(t>e||0>e)return i;0>t&&(t=0),e>this.length&&(e=this.length);for(var l=this.length,n=this.tail;null!==n&&l>e;l--)n=n.prev;for(;null!==n&&l>t;l--,n=n.prev)i.push(n.value);return i},Yallist.prototype.reverse=function(){for(var t=this.head,e=this.tail,i=t;null!==i;i=i.prev){var l=i.prev;i.prev=i.next,i.next=l}return this.head=e,this.tail=t,this};